const N=t=>{var e=new Date().getTimezoneOffset()*6e4,n=new Date(t-e).toISOString().slice(0,-1);return n},h=t=>t.offsetParent===null,x=()=>{var t=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},H=t=>{t.preventDefault();const e=t.target.getAttribute("href").substr(1);I(e,t.target,!0)},I=(t,e,n)=>{const s=document.querySelectorAll(`[data-markerid="${t}"]`);let o=null;if(s.length==0){const r=document.querySelector(`[id="${t}"]`);r!=null&&!h(r)&&(o=r)}for(var i of s)if(!h(i)){o=i;break}if(o!=null){console.log("Navigating to element: id="+o.id+", data-markerid="+o.dataset.markerid),k(o,n),v(o);return}if(e!=null){let r=e.style.backgroundColor;e.style.backgroundColor="red",setTimeout(function(){e.style.backgroundColor=r},500)}},v=t=>{t.classList.add("temphighlight"),setTimeout(function(){console.log("removing temphighlight class"),t.classList.remove("temphighlight"),console.log("classList after = %s",t.classList)},2e3)},k=(t,e)=>{if(t==null)return;t.scrollIntoView({behavior:"instant",block:"start",inline:"center"});const n=document.getElementById("topbar"),s=n==null?void 0:n.clientHeight,o=parseFloat(s);window.scrollBy(0,-o),e!=null&&e&&history.pushState(null,"","#"+t.dataset.markerid)},C=(t,e)=>{let n=t.nextElementSibling;return n!=null&&n.tagName==e.toUpperCase()},L=t=>{T(t)||k(t)},T=t=>{var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},p=t=>{const e=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16),o={r:e,g:n,b:s};for(const i in o){let r=o[i];r/=255,r=r>.03928?Math.pow((r+.055)/1.055,2.4):r/=12.92,o[i]=r}return .2126*o.r+.7152*o.g+.0722*o.b},b=(t,e)=>{const n=p(t),s=p(e);return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)},P=(t,e,n)=>b(t,n)>b(t,e)?n:e;function y(t){const e=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return[e,n,s]}function w(t,e,n){t/=255,e/=255,n/=255;const s=Math.max(t,e,n),o=Math.min(t,e,n);let i,r,a=(s+o)/2;if(s==o)i=r=0;else{const l=s-o;switch(r=a>.5?l/(2-s-o):l/(s+o),s){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4;break}i/=6}return[i,r,a]}function M(t,e,n,s){return n=Math.max(0,n-s/100),[t,e,n]}function S(t,e,n){let s,o,i;if(e==0)s=o=i=n;else{const r=function(u,g,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?u+(g-u)*6*c:c<.5?g:c<.6666666666666666?u+(g-u)*(.6666666666666666-c)*6:u},a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=r(l,a,t+1/3),o=r(l,a,t),i=r(l,a,t-1/3)}return[Math.round(s*255),Math.round(o*255),Math.round(i*255)]}function E(t,e,n){return(t<<16|e<<8|n).toString(16).padStart(6,"0")}const O=(t,e)=>{const n=y(t),s=w(...n),o=M(...s,e),i=S(...o);return E(...i)};function m(t){return JSON.parse(JSON.stringify(t))}function d(t,e){if(t.push(e),e.children!=null)for(const n of e.children)d(t,n);e.children=[]}const V=t=>{if(t==null)return{};let e=m(t),n=[];for(const r of e)d(n,r);n.sort((r,a)=>r.value.priorityNum-a.value.priorityNum),e=m(t);let s=[];for(const r of e)d(s,r);let o={PEN:4,WIP:3,MOF:2,FIN:1,ONG:0,undefined:-1};s.sort((r,a)=>{let l=r.value.progressTag,f=a.value.progressTag,u=o[l],g=o[f];return l===f?r.value.markerId.localeCompare(a.value.markerId):g-u}),e=m(t);let i=[];for(const r of e)d(i,r);return i.sort((r,a)=>a.value.fileLastModified-r.value.fileLastModified),{markers:t,markersbypriority:n,markersbyprogress:s,markersbyrecency:i}};export{L as a,k as b,I as c,V as d,C as e,x as g,O as h,N as l,H as n,P as r,v as t};
